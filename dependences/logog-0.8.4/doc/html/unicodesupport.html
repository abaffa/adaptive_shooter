<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>logog: Unicode support</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">logog
   
   </div>
   <div id="projectbrief">logger optimized for games</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('unicodesupport.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Unicode support </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The logog library may be compiled either in ANSI mode or in Unicode mode. By default, logog is compiled as an ANSI library. In this case, multibyte characters are not permitted in log messages. To enable Unicode support, define the LOGOG_UNICODE flag in <a class="el" href="logog_8hpp.html">logog.hpp</a> before compiling the logog library.</p>
<p>Defining LOGOG_UNICODE has several effects on logog. First, this forces all logging functions to expect to receive string parameters as arrays of the local wchar_t type instead of char types. In other words, the LOGOG_CHAR base type is redefined to wchar_t instead of char. Second, this forces logog to route all <a class="el" href="classlogog_1_1_cout.html">Cout</a> messages to wcout, and all <a class="el" href="classlogog_1_1_cerr.html">Cerr</a> messages to wcerr.</p>
<p>A convenience macro, <a class="el" href="string_8hpp.html#a3fb0a6b6623ebd4d9f20344af56c8471">_LG()</a>, is available (if you haven't defined LOGOG_USE_PREFIX) for easily switching your constant strings from ANSI to Unicode, based on the compilation value of LOGOG_UNICODE. To use this macro, and hence to have all your code compile in both ANSI and Unicode modes, log in the following fashion:</p>
<div class="fragment"><pre class="fragment"><a class="code" href="macro_8hpp.html#aedf01192151e10a6620567952711ff69">INFO</a>(<a class="code" href="string_8hpp.html#a3fb0a6b6623ebd4d9f20344af56c8471">_LG</a>(<span class="stringliteral">&quot;This informational message is displayed in both ANSI and Unicode builds.&quot;</span>));
<a class="code" href="macro_8hpp.html#a8f75b971030a39ef811d3526a62b36b8">WARN</a>(<a class="code" href="string_8hpp.html#ad862335db47791493a387abb20198c2f">LOGOG_CONST_STRING</a>(<span class="stringliteral">&quot;And this one works regardless of the LOGOG_USE_PREFIX setting.&quot;</span>));
</pre></div><p>Mixing and matching both Unicode and ANSI messages in one application is not currently supported, as most compilers do not implement this functionality.</p>
<p><b>Windows specific issues</b></p>
<p>Windows platforms have special considerations when logging to the console with wide characters via wcout or wcerr. Because logog shares the console with its host application, it does not initialize the console in any way. On Windows flavored platforms, the console must be initialized in a Unicode-friendly way. See <a href="http://blogs.msdn.com/b/michkap/archive/2008/03/18/8306597.aspx">http://blogs.msdn.com/b/michkap/archive/2008/03/18/8306597.aspx</a> for details about how this might work.</p>
<p>One way of initializing a Windows console for Unicode support, which seems to work, is as follows:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#ifdef LOGOG_UNICODE</span>
<span class="preprocessor"></span><span class="preprocessor">#ifdef LOGOG_FLAVOR_WINDOWS</span>
<span class="preprocessor"></span>        _setmode(_fileno(stdout), _O_U16TEXT);
        _setmode(_fileno(stderr), _O_U16TEXT);
<span class="preprocessor">#endif // LOGOG_FLAVOR_WINDOWS</span>
<span class="preprocessor"></span><span class="preprocessor">#endif // LOGOG_UNICODE</span>
</pre></div><p> See also Microsoft's documentation at <a href="http://msdn.microsoft.com/en-us/library/tw4k6df8.aspx">http://msdn.microsoft.com/en-us/library/tw4k6df8.aspx</a> . </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Sun Nov 6 2011 16:25:53 for logog by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
