<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Adaptive Shooter: TestScenePlayer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Adaptive Shooter</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">TestScenePlayer Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="TestScenePlayer" --><!-- doxytag: inherits="Scene" -->
<p><code>#include &lt;<a class="el" href="../../da/da9/_test_scene_player_8h_source.html">TestScenePlayer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TestScenePlayer:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/da9/class_test_scene_player__inherit__graph.png" border="0" usemap="#_test_scene_player_inherit__map" alt="Inheritance graph"/></div>
<map name="_test_scene_player_inherit__map" id="_test_scene_player_inherit__map">
<area shape="rect" id="node2" href="../../d6/db5/class_scene.html" title="Scene" alt="" coords="36,5,95,32"/></map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TestScenePlayer:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/db9/class_test_scene_player__coll__graph.png" border="0" usemap="#_test_scene_player_coll__map" alt="Collaboration graph"/></div>
<map name="_test_scene_player_coll__map" id="_test_scene_player_coll__map">
<area shape="rect" id="node2" href="../../d6/db5/class_scene.html" title="Scene" alt="" coords="36,5,95,32"/></map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>

<p><a href="../../de/d73/class_test_scene_player-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d29/struct_test_scene_player_1_1_enemy_description.html">EnemyDescription</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dfc/struct_test_scene_player_1_1_wave.html">Wave</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4">EnemyDescriptionData</a> { <br/>
&#160;&#160;<a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a4f83bf61616ba0f29c9644f621fcc847">EDD_SPRITE_RESOURCE</a> =  1, 
<a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4ad24ebd6ba2dd453c1503bb5ce391c6a7">EDD_START_X</a>, 
<a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4aaa6042868eb718491f25d62285bbc802">EDD_START_Y</a>, 
<a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a3ece89b82fd905bdb4441d416ba05cde">EDD_SPEED_X</a>, 
<br/>
&#160;&#160;<a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a59205b701a679a069c5f4492dfa0fe2f">EDD_SPEED_Y</a>, 
<a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a25fd718425e72f6131d685f2b2eef6ec">EDD_BEHAVIOR</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d1a/class_test_scene_player.html#a57de11c1a82f2680f88c183f52bff381">TestScenePlayer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d1a/class_test_scene_player.html#ade2a77d3f2edd8d037b2cba2796500c9">~TestScenePlayer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d1a/class_test_scene_player.html#a17140146d2a39f10eb3aed81c067ec24">draw</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d1a/class_test_scene_player.html#a8285c9f16119d8423a0ed4858327097c">update</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d1a/class_test_scene_player.html#add7c45987005966e06ce65159f4cd343">addPlayerShot</a> (<a class="el" href="../../de/d74/class_shot.html">Shot</a> *newShot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d1a/class_test_scene_player.html#af1b8508a360ec7d4adc231a6f841c897">addEnemyShot</a> (<a class="el" href="../../de/d74/class_shot.html">Shot</a> *newShot)</td></tr>
</table>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a0072e80704a4a0bf0c0e0d165d2c54e4"></a><!-- doxytag: member="TestScenePlayer::EnemyDescriptionData" ref="a0072e80704a4a0bf0c0e0d165d2c54e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4">TestScenePlayer::EnemyDescriptionData</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a0072e80704a4a0bf0c0e0d165d2c54e4a4f83bf61616ba0f29c9644f621fcc847"></a><!-- doxytag: member="EDD_SPRITE_RESOURCE" ref="a0072e80704a4a0bf0c0e0d165d2c54e4a4f83bf61616ba0f29c9644f621fcc847" args="" -->EDD_SPRITE_RESOURCE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0072e80704a4a0bf0c0e0d165d2c54e4ad24ebd6ba2dd453c1503bb5ce391c6a7"></a><!-- doxytag: member="EDD_START_X" ref="a0072e80704a4a0bf0c0e0d165d2c54e4ad24ebd6ba2dd453c1503bb5ce391c6a7" args="" -->EDD_START_X</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0072e80704a4a0bf0c0e0d165d2c54e4aaa6042868eb718491f25d62285bbc802"></a><!-- doxytag: member="EDD_START_Y" ref="a0072e80704a4a0bf0c0e0d165d2c54e4aaa6042868eb718491f25d62285bbc802" args="" -->EDD_START_Y</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0072e80704a4a0bf0c0e0d165d2c54e4a3ece89b82fd905bdb4441d416ba05cde"></a><!-- doxytag: member="EDD_SPEED_X" ref="a0072e80704a4a0bf0c0e0d165d2c54e4a3ece89b82fd905bdb4441d416ba05cde" args="" -->EDD_SPEED_X</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0072e80704a4a0bf0c0e0d165d2c54e4a59205b701a679a069c5f4492dfa0fe2f"></a><!-- doxytag: member="EDD_SPEED_Y" ref="a0072e80704a4a0bf0c0e0d165d2c54e4a59205b701a679a069c5f4492dfa0fe2f" args="" -->EDD_SPEED_Y</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0072e80704a4a0bf0c0e0d165d2c54e4a25fd718425e72f6131d685f2b2eef6ec"></a><!-- doxytag: member="EDD_BEHAVIOR" ref="a0072e80704a4a0bf0c0e0d165d2c54e4a25fd718425e72f6131d685f2b2eef6ec" args="" -->EDD_BEHAVIOR</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>
<div class="fragment"><pre class="fragment">        {
                <a class="code" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a4f83bf61616ba0f29c9644f621fcc847">EDD_SPRITE_RESOURCE</a> = 1,
                <a class="code" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4ad24ebd6ba2dd453c1503bb5ce391c6a7">EDD_START_X</a>,
                <a class="code" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4aaa6042868eb718491f25d62285bbc802">EDD_START_Y</a>,
                <a class="code" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a3ece89b82fd905bdb4441d416ba05cde">EDD_SPEED_X</a>,
                <a class="code" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a59205b701a679a069c5f4492dfa0fe2f">EDD_SPEED_Y</a>,
                <a class="code" href="../../d1/d1a/class_test_scene_player.html#a0072e80704a4a0bf0c0e0d165d2c54e4a25fd718425e72f6131d685f2b2eef6ec">EDD_BEHAVIOR</a>
        };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a57de11c1a82f2680f88c183f52bff381"></a><!-- doxytag: member="TestScenePlayer::TestScenePlayer" ref="a57de11c1a82f2680f88c183f52bff381" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TestScenePlayer::TestScenePlayer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                 : _shotsWave( 0 ), _shotsWaveOnTarget( 0 ), _shotsTotal( 0 ),
        _shotsTotalOnTarget( 0 ), _livesStartWave( 0 ), _livesEndWave( 0 ), _enemiesWave( 0 ), _enemiesWaveWasted( 0 ),
        _enemiesTotal( 0 ), _enemiesTotalWasted( 0 ), _keyDelayTime ( 1000.0f ), _timer( 0.0f ), _canPressKey( <span class="keyword">true</span> ), _waveNumber( 0 ), _waveOn(<span class="keyword">false</span>)
{
        CL_GraphicContext gc = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#aa81d1f4b98f9a3d365ca77a6c787b9a9">getWindow</a>()-&gt;get_gc();
        _font = <span class="keyword">new</span> CL_Font( gc, <span class="stringliteral">&quot;Tahoma&quot;</span>, 16 );

<span class="preprocessor">#ifdef _DEBUG</span>
<span class="preprocessor"></span>        loadScene( <span class="stringliteral">&quot;../../../../src/Scripts/demoscene.lua&quot;</span> );
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        loadScene( <span class="stringliteral">&quot;./Scripts/demoscene.lua&quot;</span> );
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d1a/class_test_scene_player_a57de11c1a82f2680f88c183f52bff381_cgraph.png" border="0" usemap="#d1/d1a/class_test_scene_player_a57de11c1a82f2680f88c183f52bff381_cgraph" alt=""/></div>
<map name="d1/d1a/class_test_scene_player_a57de11c1a82f2680f88c183f52bff381_cgraph" id="d1/d1a/class_test_scene_player_a57de11c1a82f2680f88c183f52bff381_cgraph">
<area shape="rect" id="node3" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1" title="GameManager::getInstance" alt="" coords="283,56,466,83"/><area shape="rect" id="node13" href="../../db/d10/class_game_manager.html#aa81d1f4b98f9a3d365ca77a6c787b9a9" title="GameManager::getWindow" alt="" coords="285,107,464,133"/><area shape="rect" id="node5" href="../../db/d10/class_game_manager.html#aa0e2424dc1a39d380e5b6605b179bf05" title="GameManager::GameManager" alt="" coords="515,56,715,83"/><area shape="rect" id="node7" href="../../db/d10/class_game_manager.html#a00a0ac98d2c59a56461635719c4f7d41" title="GameManager::loadMusics" alt="" coords="780,5,961,32"/><area shape="rect" id="node9" href="../../db/d10/class_game_manager.html#a03edfa7e90687a48f676c91e09994247" title="GameManager::loadSoundEffects" alt="" coords="763,56,979,83"/><area shape="rect" id="node11" href="../../df/dca/luafunctions_8cpp.html#a7b22845d516b0d255a2ae4f1b57770ac" title="RegisterLuaCLHelper" alt="" coords="799,107,943,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ade2a77d3f2edd8d037b2cba2796500c9"></a><!-- doxytag: member="TestScenePlayer::~TestScenePlayer" ref="ade2a77d3f2edd8d037b2cba2796500c9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TestScenePlayer::~TestScenePlayer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
        <span class="keyword">delete</span> _font;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af1b8508a360ec7d4adc231a6f841c897"></a><!-- doxytag: member="TestScenePlayer::addEnemyShot" ref="af1b8508a360ec7d4adc231a6f841c897" args="(Shot *newShot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestScenePlayer::addEnemyShot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d74/class_shot.html">Shot</a> *&#160;</td>
          <td class="paramname"><em>newShot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an enemy shot to the <a class="el" href="../../d6/db5/class_scene.html">Scene</a> entities and enemies' shots control list</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">newShot</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>
<div class="fragment"><pre class="fragment">{
        <span class="comment">// For drawing and updating</span>
        <a class="code" href="../../d6/db5/class_scene.html#ab07cbd5e581f410ea77f86591764435b">insertEntity</a>( newShot );

        <span class="comment">// For collision checking</span>
        _enemyShots.push_back( newShot );
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_cgraph.png" border="0" usemap="#d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_cgraph" alt=""/></div>
<map name="d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_cgraph" id="d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_cgraph">
<area shape="rect" id="node3" href="../../d6/db5/class_scene.html#ab07cbd5e581f410ea77f86591764435b" title="Scene::insertEntity" alt="" coords="272,5,405,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_icgraph.png" border="0" usemap="#d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_icgraph" alt=""/></div>
<map name="d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_icgraph" id="d1/d1a/class_test_scene_player_af1b8508a360ec7d4adc231a6f841c897_icgraph">
<area shape="rect" id="node3" href="../../dd/d78/class_test_enemy.html#a384031359eccc8648ecdfa533911e0a0" title="TestEnemy::addShots" alt="" coords="273,5,423,32"/><area shape="rect" id="node5" href="../../dd/d78/class_test_enemy.html#aa9f7df4bebeed481e823cb9c03dc82da" title="TestEnemy::update" alt="" coords="473,5,607,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="add7c45987005966e06ce65159f4cd343"></a><!-- doxytag: member="TestScenePlayer::addPlayerShot" ref="add7c45987005966e06ce65159f4cd343" args="(Shot *newShot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestScenePlayer::addPlayerShot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d74/class_shot.html">Shot</a> *&#160;</td>
          <td class="paramname"><em>newShot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a player shot to the <a class="el" href="../../d6/db5/class_scene.html">Scene</a> entities and player's shots control list</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">newShot</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>
<div class="fragment"><pre class="fragment">{
        <span class="comment">// For drawing and updating</span>
        <a class="code" href="../../d6/db5/class_scene.html#ab07cbd5e581f410ea77f86591764435b">insertEntity</a>( newShot );

        <span class="comment">// For collision checking</span>
        _playerShots.push_back( newShot );

        _shotsTotal++;
        _shotsWave++;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_cgraph.png" border="0" usemap="#d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_cgraph" alt=""/></div>
<map name="d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_cgraph" id="d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_cgraph">
<area shape="rect" id="node3" href="../../d6/db5/class_scene.html#ab07cbd5e581f410ea77f86591764435b" title="Scene::insertEntity" alt="" coords="269,5,403,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_icgraph.png" border="0" usemap="#d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_icgraph" alt=""/></div>
<map name="d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_icgraph" id="d1/d1a/class_test_scene_player_add7c45987005966e06ce65159f4cd343_icgraph">
<area shape="rect" id="node3" href="../../d8/d53/class_player.html#a47ca4197c52a2ee0952abddd519d8506" title="Player::addShots" alt="" coords="269,5,392,32"/><area shape="rect" id="node5" href="../../d8/d53/class_player.html#a82c3476f3e65a4e2ac6bcd040771bdd4" title="Player::update" alt="" coords="440,5,547,32"/><area shape="rect" id="node7" href="../../d1/d1a/class_test_scene_player.html#a8285c9f16119d8423a0ed4858327097c" title="TestScenePlayer::update" alt="" coords="595,5,763,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a17140146d2a39f10eb3aed81c067ec24"></a><!-- doxytag: member="TestScenePlayer::draw" ref="a17140146d2a39f10eb3aed81c067ec24" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestScenePlayer::draw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="../../d6/db5/class_scene.html#ac0e3d2c98ba6063a086467fb2c19142f">Scene</a>.</p>
<div class="fragment"><pre class="fragment">{
        CL_GraphicContext gc = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#aa81d1f4b98f9a3d365ca77a6c787b9a9">getWindow</a>()-&gt;get_gc();

        <span class="comment">/*CL_Draw::line(gc, 0, 110, 640, 110, CL_Colorf::yellow);</span>
<span class="comment">        _font-&gt;draw_text(gc, 100, 100, &quot;Hello World!&quot;, CL_Colorf::lightseagreen);*/</span>

        <a class="code" href="../../d8/d53/class_player.html">Player</a>* playerOne = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a070533a7d2443a6b7e3e12ee1690c8d8">getPlayer</a>(0);
        playerOne-&gt;<a class="code" href="../../d6/da4/class_dynamic_entity.html#a806fdc6fbe393bc6862d5cf7e6c699e8">draw</a>();

        <span class="comment">// Calls parent draw implementation for drawing entities</span>
        <a class="code" href="../../d1/d1a/class_test_scene_player.html#a17140146d2a39f10eb3aed81c067ec24">Scene::draw</a>();

        _font-&gt;draw_text( gc, 10, 440, cl_format( <span class="stringliteral">&quot;Lives: %1&quot;</span>, playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#a1cb5543d570ece1148d46d571937f56b">getLives</a>() ), CL_Colorf::whitesmoke );

        _font-&gt;draw_text( gc, 500, 440, cl_format( <span class="stringliteral">&quot;Score: %1&quot;</span>, playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#ac10eb9fb0387f565134958d129585ac6">getScore</a>() ), CL_Colorf::whitesmoke );

<span class="preprocessor">#if _DEBUG</span>
<span class="preprocessor"></span>        std::ostringstream playerText;
        playerText.precision( 4 );

        playerText &lt;&lt; <span class="stringliteral">&quot;Player &quot;</span> &lt;&lt; (playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af680a046d4597e159956da95b07a87e3">getPlayerNumber</a>() + 1) &lt;&lt; std::endl;
        playerText &lt;&lt; <span class="stringliteral">&quot;SpeedX = &quot;</span> &lt;&lt; (playerOne-&gt;<a class="code" href="../../d6/da4/class_dynamic_entity.html#a7a16cf6f1909b9a49c81b4bcf98c29e0">getSpeed</a>().x) &lt;&lt; <span class="stringliteral">&quot; SpeedY = &quot;</span> &lt;&lt; (playerOne-&gt;<a class="code" href="../../d6/da4/class_dynamic_entity.html#a7a16cf6f1909b9a49c81b4bcf98c29e0">getSpeed</a>().y) &lt;&lt; std::endl;
        playerText &lt;&lt; <span class="stringliteral">&quot;Shot timer: &quot;</span> &lt;&lt; (playerOne-&gt;<a class="code" href="../../dd/d07/class_shooter.html#ab56d6bb20dbdd701f52d834a55442a7e">getCurrentWeapon</a>()-&gt;<a class="code" href="../../db/de5/class_weapon.html#a810d3b7900f80e0d5442a7b64fb821de">getDelay</a>() - playerOne-&gt;<a class="code" href="../../dd/d07/class_shooter.html#ab56d6bb20dbdd701f52d834a55442a7e">getCurrentWeapon</a>()-&gt;<a class="code" href="../../db/de5/class_weapon.html#a969c097dea5e6758464729a70d25abb3">getTimer</a>()) &lt;&lt; std::endl;
        playerText &lt;&lt; <span class="stringliteral">&quot;Model = &quot;</span> &lt;&lt; playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>()-&gt;getName() &lt;&lt; std::endl;
        playerText &lt;&lt; <span class="stringliteral">&quot;Firing accuracy = &quot;</span> &lt;&lt; playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>()-&gt;getTraitValue( <a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba68670e73549e2e08801b3f4fd8813ad8">PlayerModelImpl::ACCURACY</a> ) &lt;&lt; std::endl;
        playerText &lt;&lt; <span class="stringliteral">&quot;Lives variation = &quot;</span> &lt;&lt; playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>()-&gt;getTraitValue( <a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba84e772baa6b5084534ce30612ca0bbd2">PlayerModelImpl::LIVES_VARIATION</a> ) &lt;&lt; std::endl;
        playerText &lt;&lt; <span class="stringliteral">&quot;Enemies wasted wave = &quot;</span> &lt;&lt; playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>()-&gt;getTraitValue( <a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba45fd1bb96522c55a0f99c0a204aaa8c2">PlayerModelImpl::ENEMIES_WASTED_WAVE</a> ) &lt;&lt; std::endl;
        playerText &lt;&lt; <span class="stringliteral">&quot;Enemies wasted total = &quot;</span> &lt;&lt; playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>()-&gt;getTraitValue( <a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecbaa8057f1393b6f1def858483e12c083e8">PlayerModelImpl::ENEMIES_WASTED_TOTAL</a> ) &lt;&lt; std::endl;

        <span class="keywordflow">if</span> (<a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;getWindow()-&gt;get_ic().get_joystick_count() &gt; 0)
        {
                CL_InputDevice joystick = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#aa81d1f4b98f9a3d365ca77a6c787b9a9">getWindow</a>()-&gt;get_ic().get_joystick();
                playerText &lt;&lt; <span class="stringliteral">&quot;Joystick name = &quot;</span> &lt;&lt; joystick.get_name().c_str() &lt;&lt; std::endl;

                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; joystick.get_button_count(); i++)
                {
                        <span class="keywordflow">if</span> (joystick.get_keycode( i ))
                        {
                                playerText &lt;&lt; <span class="stringliteral">&quot;Joystick key = &quot;</span> &lt;&lt; joystick.get_key_name( i ).c_str() &lt;&lt; std::endl;
                        }
                }

                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; joystick.get_axis_count(); i++)
                {
                        playerText &lt;&lt; <span class="stringliteral">&quot;Joystick axis &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; joystick.get_axis( i ) &lt;&lt; std::endl;
                }
        }

        std::string drawableText = playerText.str();
        <span class="keywordtype">float</span> textX = 640.0f - _font-&gt;get_text_size(gc, drawableText).width - 10.f; 
        <span class="keywordtype">float</span> textY = 110.0f;

        _font-&gt;draw_text(gc, textX, textY, drawableText, CL_Colorf::red);

        std::ostringstream waveText;
        waveText.precision( 4 );

        waveText &lt;&lt; <span class="stringliteral">&quot;Wave: &quot;</span> &lt;&lt; _waveNumber &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Enemies wave: &quot;</span> &lt;&lt; _enemiesWave &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Enemies wave wasted: &quot;</span> &lt;&lt; _enemiesWaveWasted &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Enemies total: &quot;</span> &lt;&lt; _enemiesTotal &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Enemies wasted total: &quot;</span> &lt;&lt; _enemiesTotalWasted &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Shots wave: &quot;</span> &lt;&lt; _shotsWave &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Shots wave on target: &quot;</span> &lt;&lt; _shotsWaveOnTarget &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Shots total: &quot;</span> &lt;&lt; _shotsTotal &lt;&lt; std::endl;
        waveText &lt;&lt; <span class="stringliteral">&quot;Shots total on target: &quot;</span> &lt;&lt; _shotsTotalOnTarget &lt;&lt; std::endl;

        std::string waveDrawableText = waveText.str();

        _font-&gt;draw_text(gc, 0.0f, 110.0f, waveDrawableText, CL_Colorf::green);

<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d1a/class_test_scene_player_a17140146d2a39f10eb3aed81c067ec24_cgraph.png" border="0" usemap="#d1/d1a/class_test_scene_player_a17140146d2a39f10eb3aed81c067ec24_cgraph" alt=""/></div>
<map name="d1/d1a/class_test_scene_player_a17140146d2a39f10eb3aed81c067ec24_cgraph" id="d1/d1a/class_test_scene_player_a17140146d2a39f10eb3aed81c067ec24_cgraph">
<area shape="rect" id="node3" href="../../d6/da4/class_dynamic_entity.html#a806fdc6fbe393bc6862d5cf7e6c699e8" title="DynamicEntity::draw" alt="" coords="231,107,374,133"/><area shape="rect" id="node5" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1" title="GameManager::getInstance" alt="" coords="443,56,626,83"/><area shape="rect" id="node17" href="../../db/d10/class_game_manager.html#aa81d1f4b98f9a3d365ca77a6c787b9a9" title="GameManager::getWindow" alt="" coords="445,157,624,184"/><area shape="rect" id="node19" href="../../dd/d07/class_shooter.html#ab56d6bb20dbdd701f52d834a55442a7e" title="Shooter::getCurrentWeapon" alt="" coords="211,208,394,235"/><area shape="rect" id="node21" href="../../db/de5/class_weapon.html#a810d3b7900f80e0d5442a7b64fb821de" title="Weapon::getDelay" alt="" coords="238,259,367,285"/><area shape="rect" id="node24" href="../../d8/d53/class_player.html#a1cb5543d570ece1148d46d571937f56b" title="Player::getLives" alt="" coords="245,309,360,336"/><area shape="rect" id="node26" href="../../db/d10/class_game_manager.html#a070533a7d2443a6b7e3e12ee1690c8d8" title="GameManager::getPlayer" alt="" coords="217,360,388,387"/><area shape="rect" id="node28" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24" title="Player::getPlayerModel" alt="" coords="224,411,381,437"/><area shape="rect" id="node30" href="../../d8/d53/class_player.html#af680a046d4597e159956da95b07a87e3" title="Player::getPlayerNumber" alt="" coords="219,461,386,488"/><area shape="rect" id="node32" href="../../d8/d53/class_player.html#ac10eb9fb0387f565134958d129585ac6" title="Player::getScore" alt="" coords="243,512,362,539"/><area shape="rect" id="node34" href="../../d6/da4/class_dynamic_entity.html#a7a16cf6f1909b9a49c81b4bcf98c29e0" title="DynamicEntity::getSpeed" alt="" coords="217,563,388,589"/><area shape="rect" id="node36" href="../../db/de5/class_weapon.html#a969c097dea5e6758464729a70d25abb3" title="Weapon::getTimer" alt="" coords="239,613,367,640"/><area shape="rect" id="node15" href="../../d2/d96/class_entity.html#ac474e0352dea30dfac812c10a792949c" title="Entity::getPosition" alt="" coords="470,107,599,133"/><area shape="rect" id="node7" href="../../db/d10/class_game_manager.html#aa0e2424dc1a39d380e5b6605b179bf05" title="GameManager::GameManager" alt="" coords="675,56,875,83"/><area shape="rect" id="node9" href="../../db/d10/class_game_manager.html#a00a0ac98d2c59a56461635719c4f7d41" title="GameManager::loadMusics" alt="" coords="940,5,1121,32"/><area shape="rect" id="node11" href="../../db/d10/class_game_manager.html#a03edfa7e90687a48f676c91e09994247" title="GameManager::loadSoundEffects" alt="" coords="923,56,1139,83"/><area shape="rect" id="node13" href="../../df/dca/luafunctions_8cpp.html#a7b22845d516b0d255a2ae4f1b57770ac" title="RegisterLuaCLHelper" alt="" coords="959,107,1103,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8285c9f16119d8423a0ed4858327097c"></a><!-- doxytag: member="TestScenePlayer::update" ref="a8285c9f16119d8423a0ed4858327097c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestScenePlayer::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="../../d6/db5/class_scene.html#aa24c7e636c10e4e42650c1374b90bb80">Scene</a>.</p>
<div class="fragment"><pre class="fragment">{
        <a class="code" href="../../db/d10/class_game_manager.html">GameManager</a>* manager = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>();
        <a class="code" href="../../d8/d53/class_player.html">Player</a>* playerOne = manager-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a070533a7d2443a6b7e3e12ee1690c8d8">getPlayer</a>(0);
        <span class="keywordtype">float</span> dt = manager-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a7518f0aa4e8c5d09e8daf1be8131102d">getDeltaTime</a>();
        PlayerModel* model = playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>();

        <span class="keywordflow">if</span> (playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#a1cb5543d570ece1148d46d571937f56b">getLives</a>() &lt;= 0)
        {
                <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a2c061a57ecae805d2ecbb48e3ec32638">stopMusic</a>( <a class="code" href="../../db/d10/class_game_manager.html#a7fccedb9176b0430b47f50982a89a1d8a69f8325e5dbc50689055a6bbf0cee788">GameManager::STAGE_1</a> );
                <a class="code" href="../../d6/db5/class_scene.html#ac742b3975e402ae4172f47359f9370c9">setNextScene</a>( manager-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a03758aa600489f5d67df8e2d0d7097b8">getGameOverScene</a>() );

                <span class="comment">// Last log</span>

                CL_DateTime time = CL_DateTime::get_current_local_time();
                std::ostringstream text;
                text &lt;&lt; <span class="stringliteral">&quot;Player defeated\n&quot;</span>;
                text &lt;&lt; time.to_long_time_string().c_str();

                <a class="code" href="../../d8/d53/class_player.html">Player</a>* playerOne = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a070533a7d2443a6b7e3e12ee1690c8d8">getPlayer</a>( 0 );
                PlayerModel* model = playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>();

                text &lt;&lt; <span class="stringliteral">&quot;\nPlayer defeated\n\n &quot;</span>;
                text &lt;&lt; <span class="stringliteral">&quot;Player: &quot;</span>;
                text &lt;&lt; playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af680a046d4597e159956da95b07a87e3">getPlayerNumber</a>() + 1;
                text &lt;&lt; <span class="stringliteral">&quot;\nStats:\n Accuracy &quot;</span>;
                text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba68670e73549e2e08801b3f4fd8813ad8">PlayerModelImpl::ACCURACY</a>);
                text &lt;&lt; <span class="stringliteral">&quot;\tLives var &quot;</span>;
                text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba84e772baa6b5084534ce30612ca0bbd2">PlayerModelImpl::LIVES_VARIATION</a>);
                text &lt;&lt; <span class="stringliteral">&quot;\tEnemies wave &quot;</span>;
                text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba45fd1bb96522c55a0f99c0a204aaa8c2">PlayerModelImpl::ENEMIES_WASTED_WAVE</a>);
                text &lt;&lt; <span class="stringliteral">&quot;\tEnemies total &quot;</span>;
                text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecbaa8057f1393b6f1def858483e12c083e8">PlayerModelImpl::ENEMIES_WASTED_TOTAL</a>);
                text &lt;&lt; <span class="stringliteral">&quot;\nModel name start: &quot;</span>;
                text &lt;&lt; model-&gt;getName();
                text &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
                text &lt;&lt; <span class="stringliteral">&quot;==================================\n&quot;</span>;

                <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a418d779fe3dcef2894477ad597ecca91">getLogger</a>()-&gt;log(<span class="stringliteral">&quot;Logging end&quot;</span>, text.str());

                <a class="code" href="../../d6/db5/class_scene.html#ab94fd30420e8336c6dde7b91de209031">changeToNextScene</a>();
                <span class="keywordflow">return</span>;
        }

        <span class="comment">// Checks if there is any wave in progress</span>
        <span class="keywordflow">if</span> (!_waveOn)
        {
                <span class="comment">// If there are any waves to be processed</span>
                <span class="keywordflow">if</span> (_waveNumber &lt; _waves.size())
                {
                        waveBegin();
                        createWave(_waveNumber);
                }
                <span class="keywordflow">else</span>
                {
                        <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a2c061a57ecae805d2ecbb48e3ec32638">stopMusic</a>( <a class="code" href="../../db/d10/class_game_manager.html#a7fccedb9176b0430b47f50982a89a1d8a69f8325e5dbc50689055a6bbf0cee788">GameManager::STAGE_1</a> );

                        CL_DateTime time = CL_DateTime::get_current_local_time();
                        std::ostringstream text;
                        text &lt;&lt; time.to_long_time_string().c_str();

                        <a class="code" href="../../d8/d53/class_player.html">Player</a>* playerOne = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a070533a7d2443a6b7e3e12ee1690c8d8">getPlayer</a>( 0 );
                        PlayerModel* model = playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24">getPlayerModel</a>();

                        text &lt;&lt; <span class="stringliteral">&quot;\nPlayer succeeded\n\n &quot;</span>;
                        text &lt;&lt; <span class="stringliteral">&quot;Player: &quot;</span>;
                        text &lt;&lt; playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#af680a046d4597e159956da95b07a87e3">getPlayerNumber</a>() + 1;
                        text &lt;&lt; <span class="stringliteral">&quot;\nStats:\n Accuracy &quot;</span>;
                        text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba68670e73549e2e08801b3f4fd8813ad8">PlayerModelImpl::ACCURACY</a>);
                        text &lt;&lt; <span class="stringliteral">&quot;\tLives var &quot;</span>;
                        text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba84e772baa6b5084534ce30612ca0bbd2">PlayerModelImpl::LIVES_VARIATION</a>);
                        text &lt;&lt; <span class="stringliteral">&quot;\tEnemies wave &quot;</span>;
                        text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba45fd1bb96522c55a0f99c0a204aaa8c2">PlayerModelImpl::ENEMIES_WASTED_WAVE</a>);
                        text &lt;&lt; <span class="stringliteral">&quot;\tEnemies total &quot;</span>;
                        text &lt;&lt; model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecbaa8057f1393b6f1def858483e12c083e8">PlayerModelImpl::ENEMIES_WASTED_TOTAL</a>);
                        text &lt;&lt; <span class="stringliteral">&quot;\nModel name start: &quot;</span>;
                        text &lt;&lt; model-&gt;getName();
                        text &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
                        text &lt;&lt; <span class="stringliteral">&quot;==================================\n&quot;</span>;

                        <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a418d779fe3dcef2894477ad597ecca91">getLogger</a>()-&gt;log(<span class="stringliteral">&quot;Logging end&quot;</span>, text.str());

                        <a class="code" href="../../d6/db5/class_scene.html#ab94fd30420e8336c6dde7b91de209031">changeToNextScene</a>();
                        <span class="keywordflow">return</span>;
                }
        }
        <span class="keywordflow">else</span>
        {
                <span class="keywordflow">if</span> (_enemies.size() == 0)
                {
                        waveFinish();
                }
        }

        <span class="comment">// Player updates occur separately because players can drop in or out</span>
        <span class="comment">// treating this in entities would be messy</span>
        playerOne-&gt;<a class="code" href="../../d8/d53/class_player.html#a82c3476f3e65a4e2ac6bcd040771bdd4">update</a>();

<span class="preprocessor">#if _DEBUG</span>
<span class="preprocessor"></span>
        CL_InputDevice keyboard = manager-&gt;<a class="code" href="../../db/d10/class_game_manager.html#aa81d1f4b98f9a3d365ca77a6c787b9a9">getWindow</a>()-&gt;get_ic().get_keyboard();

        <span class="keyword">const</span> <span class="keywordtype">float</span> variation = 0.001f;

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_Y))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba68670e73549e2e08801b3f4fd8813ad8">PlayerModelImpl::ACCURACY</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba68670e73549e2e08801b3f4fd8813ad8">PlayerModelImpl::ACCURACY</a>) + dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_U))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba84e772baa6b5084534ce30612ca0bbd2">PlayerModelImpl::LIVES_VARIATION</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba84e772baa6b5084534ce30612ca0bbd2">PlayerModelImpl::LIVES_VARIATION</a>) + dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_I))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba45fd1bb96522c55a0f99c0a204aaa8c2">PlayerModelImpl::ENEMIES_WASTED_WAVE</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba45fd1bb96522c55a0f99c0a204aaa8c2">PlayerModelImpl::ENEMIES_WASTED_WAVE</a>) + dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_O))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecbaa8057f1393b6f1def858483e12c083e8">PlayerModelImpl::ENEMIES_WASTED_TOTAL</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecbaa8057f1393b6f1def858483e12c083e8">PlayerModelImpl::ENEMIES_WASTED_TOTAL</a>) + dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_H))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba68670e73549e2e08801b3f4fd8813ad8">PlayerModelImpl::ACCURACY</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba68670e73549e2e08801b3f4fd8813ad8">PlayerModelImpl::ACCURACY</a>) - dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_J))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba84e772baa6b5084534ce30612ca0bbd2">PlayerModelImpl::LIVES_VARIATION</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba84e772baa6b5084534ce30612ca0bbd2">PlayerModelImpl::LIVES_VARIATION</a>) - dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_K))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba45fd1bb96522c55a0f99c0a204aaa8c2">PlayerModelImpl::ENEMIES_WASTED_WAVE</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecba45fd1bb96522c55a0f99c0a204aaa8c2">PlayerModelImpl::ENEMIES_WASTED_WAVE</a>) - dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_L))
        {
                model-&gt;setTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecbaa8057f1393b6f1def858483e12c083e8">PlayerModelImpl::ENEMIES_WASTED_TOTAL</a>, model-&gt;getTraitValue(<a class="code" href="../../d5/da9/class_player_model_impl.html#a109778d2250dda6ff69a6357e6e6cecbaa8057f1393b6f1def858483e12c083e8">PlayerModelImpl::ENEMIES_WASTED_TOTAL</a>) - dt*variation);
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_P))
        {
                model-&gt;resetTraits();
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_E))
        {
                createDebugEnemy();
        }

        <span class="keywordflow">if</span> (keyboard.get_keycode(CL_KEY_SPACE))
        {
                std::string modelName = model-&gt;getName();

                <span class="comment">// Updates player model observed</span>
                AIManager* aimanager = <a class="code" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1">GameManager::getInstance</a>()-&gt;<a class="code" href="../../db/d10/class_game_manager.html#a1079d139dd9264e90cf5e7a9d5b92cc3">getAIManager</a>();
                aimanager-&gt;update();
                
                <span class="comment">/*LOGOG_INFO( &quot;Player: %d\nStats:\n Accuracy %f\tLives var %f\tEnemies total %f\nModel name before update: %s\nModel name after update: %s\n&quot;,</span>
<span class="comment">                        playerOne-&gt;getPlayerNumber() + 1, playerOne-&gt;getPlayerModel()-&gt;getTraitValue(PlayerModelImpl::ACCURACY), model-&gt;getTraitValue(PlayerModelImpl::LIVES_VARIATION),</span>
<span class="comment">                        model-&gt;getTraitValue(PlayerModelImpl::ENEMIES_WASTED_TOTAL),    modelName.c_str(), playerOne-&gt;getPlayerModel()-&gt;getName().c_str() );*/</span>
        }

<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// Calls parent implementation of update, updating all Entities</span>
        <a class="code" href="../../d1/d1a/class_test_scene_player.html#a8285c9f16119d8423a0ed4858327097c">Scene::update</a>();

        <span class="comment">// Treat playerShots and enemyShots collision and out of bounds</span>
        computeShotsCollision();

        <span class="comment">// Treat player-enemy collisions</span>
        computePlayerEnemyCollision();

        <span class="comment">// Checks if any enemy is dead or out of bounds</span>
        validateEnemies();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d1a/class_test_scene_player_a8285c9f16119d8423a0ed4858327097c_cgraph.png" border="0" usemap="#d1/d1a/class_test_scene_player_a8285c9f16119d8423a0ed4858327097c_cgraph" alt=""/></div>
<map name="d1/d1a/class_test_scene_player_a8285c9f16119d8423a0ed4858327097c_cgraph" id="d1/d1a/class_test_scene_player_a8285c9f16119d8423a0ed4858327097c_cgraph">
<area shape="rect" id="node3" href="../../d6/db5/class_scene.html#ab94fd30420e8336c6dde7b91de209031" title="Scene::changeToNextScene" alt="" coords="244,145,431,172"/><area shape="rect" id="node5" href="../../db/d10/class_game_manager.html#a00509384dd65ab52c7f3d22d1c7d74f1" title="GameManager::getInstance" alt="" coords="798,323,981,349"/><area shape="rect" id="node19" href="../../db/d10/class_game_manager.html#a1079d139dd9264e90cf5e7a9d5b92cc3" title="GameManager::getAIManager" alt="" coords="240,804,435,831"/><area shape="rect" id="node21" href="../../db/d10/class_game_manager.html#a7518f0aa4e8c5d09e8daf1be8131102d" title="GameManager::getDeltaTime" alt="" coords="522,221,713,248"/><area shape="rect" id="node23" href="../../db/d10/class_game_manager.html#a03758aa600489f5d67df8e2d0d7097b8" title="GameManager::getGameOverScene" alt="" coords="222,855,453,881"/><area shape="rect" id="node26" href="../../d8/d53/class_player.html#a1cb5543d570ece1148d46d571937f56b" title="Player::getLives" alt="" coords="280,905,395,932"/><area shape="rect" id="node28" href="../../db/d10/class_game_manager.html#a418d779fe3dcef2894477ad597ecca91" title="GameManager::getLogger" alt="" coords="251,956,423,983"/><area shape="rect" id="node30" href="../../db/d10/class_game_manager.html#a070533a7d2443a6b7e3e12ee1690c8d8" title="GameManager::getPlayer" alt="" coords="252,1007,423,1033"/><area shape="rect" id="node32" href="../../d8/d53/class_player.html#af7d45973f07ac7cb1035c5e652e04f24" title="Player::getPlayerModel" alt="" coords="259,1057,416,1084"/><area shape="rect" id="node34" href="../../d8/d53/class_player.html#af680a046d4597e159956da95b07a87e3" title="Player::getPlayerNumber" alt="" coords="254,1108,421,1135"/><area shape="rect" id="node36" href="../../db/d10/class_game_manager.html#aa81d1f4b98f9a3d365ca77a6c787b9a9" title="GameManager::getWindow" alt="" coords="800,145,979,172"/><area shape="rect" id="node38" href="../../d6/db5/class_scene.html#ac742b3975e402ae4172f47359f9370c9" title="Scene::setNextScene" alt="" coords="263,1159,412,1185"/><area shape="rect" id="node40" href="../../db/d10/class_game_manager.html#a2c061a57ecae805d2ecbb48e3ec32638" title="GameManager::stopMusic" alt="" coords="250,1209,425,1236"/><area shape="rect" id="node44" href="../../d8/d53/class_player.html#a82c3476f3e65a4e2ac6bcd040771bdd4" title="Player::update" alt="" coords="284,576,391,603"/><area shape="rect" id="node15" href="../../db/d10/class_game_manager.html#a87b2553ab3e34b82e6e143bcfb64b8c2" title="GameManager::popScene" alt="" coords="531,69,704,96"/><area shape="rect" id="node17" href="../../db/d10/class_game_manager.html#af7e31a2cf58582f655a165d0559e6f54" title="GameManager::pushScene" alt="" coords="527,120,707,147"/><area shape="rect" id="node7" href="../../db/d10/class_game_manager.html#aa0e2424dc1a39d380e5b6605b179bf05" title="GameManager::GameManager" alt="" coords="1045,323,1245,349"/><area shape="rect" id="node9" href="../../db/d10/class_game_manager.html#a00a0ac98d2c59a56461635719c4f7d41" title="GameManager::loadMusics" alt="" coords="1311,272,1492,299"/><area shape="rect" id="node11" href="../../db/d10/class_game_manager.html#a03edfa7e90687a48f676c91e09994247" title="GameManager::loadSoundEffects" alt="" coords="1293,323,1509,349"/><area shape="rect" id="node13" href="../../df/dca/luafunctions_8cpp.html#a7b22845d516b0d255a2ae4f1b57770ac" title="RegisterLuaCLHelper" alt="" coords="1329,373,1473,400"/><area shape="rect" id="node42" href="../../db/d10/class_game_manager.html#a7cb966aa36acd137fc11a1dd3300802d" title="GameManager::poolMusic" alt="" coords="530,1209,705,1236"/><area shape="rect" id="node46" href="../../d8/d53/class_player.html#a47ca4197c52a2ee0952abddd519d8506" title="Player::addShots" alt="" coords="556,931,679,957"/><area shape="rect" id="node57" href="../../d2/d96/class_entity.html#aef338be6e4f5f4c95edd5ff91098cd84" title="Entity::boundToScreen" alt="" coords="540,272,695,299"/><area shape="rect" id="node61" href="../../dd/d07/class_shooter.html#ab56d6bb20dbdd701f52d834a55442a7e" title="Shooter::getCurrentWeapon" alt="" coords="526,779,709,805"/><area shape="rect" id="node65" href="../../d2/d96/class_entity.html#ac474e0352dea30dfac812c10a792949c" title="Entity::getPosition" alt="" coords="553,829,682,856"/><area shape="rect" id="node67" href="../../d6/da4/class_dynamic_entity.html#a7a16cf6f1909b9a49c81b4bcf98c29e0" title="DynamicEntity::getSpeed" alt="" coords="532,373,703,400"/><area shape="rect" id="node69" href="../../de/d7f/class_controller_interface.html#aab99aa7e15178e81aec724648be7039e" title="ControllerInterface::isControllerDown" alt="" coords="502,424,733,451"/><area shape="rect" id="node71" href="../../de/d7f/class_controller_interface.html#aac960ad36a741e4f05651fbfd020f0d1" title="ControllerInterface::isControllerFire" alt="" coords="507,475,728,501"/><area shape="rect" id="node73" href="../../de/d7f/class_controller_interface.html#a145bb4c3c50672bee5bc83db57099aa3" title="ControllerInterface::isControllerLeft" alt="" coords="507,525,727,552"/><area shape="rect" id="node75" href="../../de/d7f/class_controller_interface.html#ab4a13d332fc323a5db76be9af054b781" title="ControllerInterface::isControllerRight" alt="" coords="503,576,732,603"/><area shape="rect" id="node77" href="../../de/d7f/class_controller_interface.html#a1a139422246c70afd79c9c575643da9e" title="ControllerInterface::isControllerUp" alt="" coords="510,627,725,653"/><area shape="rect" id="node79" href="../../d2/d96/class_entity.html#a4de8724a35a2035f18afca7d95f5bd3a" title="Entity::setPositionX" alt="" coords="549,677,685,704"/><area shape="rect" id="node81" href="../../d2/d96/class_entity.html#afae7da405b8456d03fc8ddea62ce0898" title="Entity::setPositionY" alt="" coords="548,728,687,755"/><area shape="rect" id="node48" href="../../d1/d1a/class_test_scene_player.html#add7c45987005966e06ce65159f4cd343" title="TestScenePlayer::addPlayerShot" alt="" coords="782,880,997,907"/><area shape="rect" id="node53" href="../../db/d10/class_game_manager.html#a2c3d7a054450743f83764181d81a08b4" title="GameManager::peekScene" alt="" coords="799,931,979,957"/><area shape="rect" id="node55" href="../../db/d10/class_game_manager.html#af2909d5c142a689f1e2c36dc5fc951bc" title="GameManager::playSoundEffect" alt="" coords="785,981,994,1008"/><area shape="rect" id="node50" href="../../d6/db5/class_scene.html#ab07cbd5e581f410ea77f86591764435b" title="Scene::insertEntity" alt="" coords="1079,880,1212,907"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../da/da9/_test_scene_player_8h_source.html">TestScenePlayer.h</a></li>
<li><a class="el" href="../../d1/dab/_test_scene_player_8cpp.html">TestScenePlayer.cpp</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Aug 19 2012 03:09:47 for Adaptive Shooter by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
