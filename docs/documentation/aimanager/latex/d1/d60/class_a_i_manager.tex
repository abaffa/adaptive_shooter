\hypertarget{class_a_i_manager}{
\section{AIManager Class Reference}
\label{d1/d60/class_a_i_manager}\index{AIManager@{AIManager}}
}


{\ttfamily \#include $<$AIManager.h$>$}



Collaboration diagram for AIManager:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=245pt]{d3/dda/class_a_i_manager__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_a_i_manager_abfa2a21b6a15a765e7069f18216d0cc3}{AIManager} (lua\_\-State $\ast$L)
\item 
virtual \hyperlink{class_a_i_manager_a07762cbbf5de6bffd7499f86987a8dd5}{$\sim$AIManager} ()
\item 
void \hyperlink{class_a_i_manager_adf714d1c096f82d57c2eea294ee0408f}{update} ()
\item 
void \hyperlink{class_a_i_manager_a44f9b950499f178297a349c80e8f88ec}{setLuaState} (lua\_\-State $\ast$L)
\item 
lua\_\-State $\ast$ \hyperlink{class_a_i_manager_a3e890e4bdba25dccb93b1ef5170ca899}{getLuaState} () const 
\item 
void \hyperlink{class_a_i_manager_a4280372530731f96c287b4f9aa3f09d7}{insertAgent} (\hyperlink{class_a_i_agent}{AIAgent} $\ast$agent)
\item 
bool \hyperlink{class_a_i_manager_a254671a583041f76b846576e0ac83801}{removeAgent} (\hyperlink{class_a_i_agent}{AIAgent} $\ast$agent)
\item 
unsigned int \hyperlink{class_a_i_manager_a85881ecf639354cb393cd30eae8e39e2}{getNumberofAgents} () const 
\item 
void \hyperlink{class_a_i_manager_ad6410a684f6d6589ad5ad61a3367a40f}{setCurrentPlayerModel} (\hyperlink{class_player_model}{PlayerModel} $\ast$model)
\item 
\hyperlink{class_player_model}{PlayerModel} $\ast$ \hyperlink{class_a_i_manager_ab8dd1e153c7f855980782dfe887e4192}{getCurrentPlayerModel} () const 
\item 
void \hyperlink{class_a_i_manager_ab4d87819bf1146fb69d84eddb1db0273}{setCurrentReferenceModel} (\hyperlink{class_player_model}{PlayerModel} $\ast$model)
\item 
\hyperlink{class_player_model}{PlayerModel} $\ast$ \hyperlink{class_a_i_manager_aeca124e768c421b6c08c28346cece97c}{getCurrentReferenceModel} () const 
\item 
void \hyperlink{class_a_i_manager_a476c212bcfd2e9e24470ac85d35ed93a}{addPlayerModel} (\hyperlink{class_player_model}{PlayerModel} $\ast$model)
\item 
bool \hyperlink{class_a_i_manager_a3ff17aafc854dec706e6acc7f9ed91d4}{removePlayerModel} (\hyperlink{class_player_model}{PlayerModel} $\ast$model)
\item 
std::vector$<$ \hyperlink{class_player_model}{PlayerModel} $\ast$ $>$ $\ast$ \hyperlink{class_a_i_manager_ae204743faa95af282fc4b91bebb29885}{copyPlayerModelVector} () const 
\item 
void \hyperlink{class_a_i_manager_a9a43433f398c527d30f240bba8856a36}{updateAgents} ()
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_a_i_manager_abfa2a21b6a15a765e7069f18216d0cc3}{
\index{AIManager@{AIManager}!AIManager@{AIManager}}
\index{AIManager@{AIManager}!AIManager@{AIManager}}
\subsubsection[{AIManager}]{\setlength{\rightskip}{0pt plus 5cm}AIManager::AIManager (
\begin{DoxyParamCaption}
\item[{lua\_\-State $\ast$}]{L}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_abfa2a21b6a15a765e7069f18216d0cc3}
Constructor


\begin{DoxyParams}{Parameters}
{\em L} & Lua state that is watched and manipulated \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
                                :_luaState(L)
{
        //TODO: Import player models from Lua State
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_a07762cbbf5de6bffd7499f86987a8dd5}{
\index{AIManager@{AIManager}!$\sim$AIManager@{$\sim$AIManager}}
\index{$\sim$AIManager@{$\sim$AIManager}!AIManager@{AIManager}}
\subsubsection[{$\sim$AIManager}]{\setlength{\rightskip}{0pt plus 5cm}AIManager::$\sim$AIManager (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{d1/d60/class_a_i_manager_a07762cbbf5de6bffd7499f86987a8dd5}
Destructor 
\begin{DoxyCode}
{
        std::vector<PlayerModel*>::iterator it;

        for (it = _playerModels.begin(); it != _playerModels.end(); )
        {
                delete (*it);
                it = _playerModels.erase( it );
        }
}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_a_i_manager_a476c212bcfd2e9e24470ac85d35ed93a}{
\index{AIManager@{AIManager}!addPlayerModel@{addPlayerModel}}
\index{addPlayerModel@{addPlayerModel}!AIManager@{AIManager}}
\subsubsection[{addPlayerModel}]{\setlength{\rightskip}{0pt plus 5cm}void AIManager::addPlayerModel (
\begin{DoxyParamCaption}
\item[{{\bf PlayerModel} $\ast$}]{model}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_a476c212bcfd2e9e24470ac85d35ed93a}
Includes a player model in the manager. Takes responsibility of deleting the pointer.


\begin{DoxyParams}{Parameters}
{\em model} & Pointer to player model \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
        _playerModels.push_back( model );
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_ae204743faa95af282fc4b91bebb29885}{
\index{AIManager@{AIManager}!copyPlayerModelVector@{copyPlayerModelVector}}
\index{copyPlayerModelVector@{copyPlayerModelVector}!AIManager@{AIManager}}
\subsubsection[{copyPlayerModelVector}]{\setlength{\rightskip}{0pt plus 5cm}std::vector$<$ {\bf PlayerModel} $\ast$ $>$ $\ast$ AIManager::copyPlayerModelVector (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}
\label{d1/d60/class_a_i_manager_ae204743faa95af282fc4b91bebb29885}
Gets a copy of the player model vector from the manager

\begin{DoxyReturn}{Returns}
std::vector$<$PlayerModel$\ast$$>$$\ast$ Returns a copy of the player model vector. Caller must delete. 
\end{DoxyReturn}

\begin{DoxyCode}
{
        return new std::vector<PlayerModel*>( _playerModels );
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_ab8dd1e153c7f855980782dfe887e4192}{
\index{AIManager@{AIManager}!getCurrentPlayerModel@{getCurrentPlayerModel}}
\index{getCurrentPlayerModel@{getCurrentPlayerModel}!AIManager@{AIManager}}
\subsubsection[{getCurrentPlayerModel}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PlayerModel} $\ast$ AIManager::getCurrentPlayerModel (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}
\label{d1/d60/class_a_i_manager_ab8dd1e153c7f855980782dfe887e4192}
Returns the current player model observed

\begin{DoxyReturn}{Returns}
PlayerModel$\ast$ Pointer to current player model observed 
\end{DoxyReturn}

\begin{DoxyCode}
{
        return _currentObservedPlayerModel;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_aeca124e768c421b6c08c28346cece97c}{
\index{AIManager@{AIManager}!getCurrentReferenceModel@{getCurrentReferenceModel}}
\index{getCurrentReferenceModel@{getCurrentReferenceModel}!AIManager@{AIManager}}
\subsubsection[{getCurrentReferenceModel}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PlayerModel} $\ast$ AIManager::getCurrentReferenceModel (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}
\label{d1/d60/class_a_i_manager_aeca124e768c421b6c08c28346cece97c}
Returns the current player model being referenced from the list

\begin{DoxyReturn}{Returns}
PlayerModel$\ast$ Pointer to current player model referenced 
\end{DoxyReturn}

\begin{DoxyCode}
{
        return _currentReferenceModel;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_a3e890e4bdba25dccb93b1ef5170ca899}{
\index{AIManager@{AIManager}!getLuaState@{getLuaState}}
\index{getLuaState@{getLuaState}!AIManager@{AIManager}}
\subsubsection[{getLuaState}]{\setlength{\rightskip}{0pt plus 5cm}lua\_\-State $\ast$ AIManager::getLuaState (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}
\label{d1/d60/class_a_i_manager_a3e890e4bdba25dccb93b1ef5170ca899}
Gets lua\_\-State currently observed

\begin{DoxyReturn}{Returns}
lua\_\-State$\ast$ Current Lua state 
\end{DoxyReturn}

\begin{DoxyCode}
{
        return _luaState;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_a85881ecf639354cb393cd30eae8e39e2}{
\index{AIManager@{AIManager}!getNumberofAgents@{getNumberofAgents}}
\index{getNumberofAgents@{getNumberofAgents}!AIManager@{AIManager}}
\subsubsection[{getNumberofAgents}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int AIManager::getNumberofAgents (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}
\label{d1/d60/class_a_i_manager_a85881ecf639354cb393cd30eae8e39e2}
Gets the number of agents in the agents control list

\begin{DoxyReturn}{Returns}
unsigned int 
\end{DoxyReturn}

\begin{DoxyCode}
{
        return _aiAgents.size();
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_a4280372530731f96c287b4f9aa3f09d7}{
\index{AIManager@{AIManager}!insertAgent@{insertAgent}}
\index{insertAgent@{insertAgent}!AIManager@{AIManager}}
\subsubsection[{insertAgent}]{\setlength{\rightskip}{0pt plus 5cm}void AIManager::insertAgent (
\begin{DoxyParamCaption}
\item[{{\bf AIAgent} $\ast$}]{agent}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_a4280372530731f96c287b4f9aa3f09d7}
Inserts a new \hyperlink{class_a_i_agent}{AIAgent} in the agents control list


\begin{DoxyParams}{Parameters}
{\em agent} & \hyperlink{class_a_i_agent}{AIAgent} to be inserted \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
        if (agent != NULL)
        {
                _aiAgents.push_back( agent );
        }
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_a254671a583041f76b846576e0ac83801}{
\index{AIManager@{AIManager}!removeAgent@{removeAgent}}
\index{removeAgent@{removeAgent}!AIManager@{AIManager}}
\subsubsection[{removeAgent}]{\setlength{\rightskip}{0pt plus 5cm}bool AIManager::removeAgent (
\begin{DoxyParamCaption}
\item[{{\bf AIAgent} $\ast$}]{agent}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_a254671a583041f76b846576e0ac83801}
Removes an agent from the agents control list


\begin{DoxyParams}{Parameters}
{\em agent} & \hyperlink{class_a_i_agent}{AIAgent} to be removed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool True if agent was found and removed, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
{
        for (std::vector<AIAgent*>::iterator it = _aiAgents.begin(); it != _aiAge
      nts.end(); it++)
        {
                if (*it == agent)
                {
                        _aiAgents.erase( it );
                        return true;
                }
        }

        return false;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_a3ff17aafc854dec706e6acc7f9ed91d4}{
\index{AIManager@{AIManager}!removePlayerModel@{removePlayerModel}}
\index{removePlayerModel@{removePlayerModel}!AIManager@{AIManager}}
\subsubsection[{removePlayerModel}]{\setlength{\rightskip}{0pt plus 5cm}bool AIManager::removePlayerModel (
\begin{DoxyParamCaption}
\item[{{\bf PlayerModel} $\ast$}]{model}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_a3ff17aafc854dec706e6acc7f9ed91d4}
Removes a \hyperlink{class_player_model}{PlayerModel} from the manager


\begin{DoxyParams}{Parameters}
{\em model} & Pointer to model to remove \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool true if the model was found and removed 
\end{DoxyReturn}

\begin{DoxyCode}
{
        bool result = false;

        std::vector<PlayerModel*>::iterator it;

        for (it = _playerModels.begin(); it != _playerModels.end(); it++)
        {
                if ((*it) == model)
                {
                        _playerModels.erase( it );
                        result = true;
                        break;
                }
        }

        return result;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_ad6410a684f6d6589ad5ad61a3367a40f}{
\index{AIManager@{AIManager}!setCurrentPlayerModel@{setCurrentPlayerModel}}
\index{setCurrentPlayerModel@{setCurrentPlayerModel}!AIManager@{AIManager}}
\subsubsection[{setCurrentPlayerModel}]{\setlength{\rightskip}{0pt plus 5cm}void AIManager::setCurrentPlayerModel (
\begin{DoxyParamCaption}
\item[{{\bf PlayerModel} $\ast$}]{model}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_ad6410a684f6d6589ad5ad61a3367a40f}
Sets the current player model


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em model} & Pointer to player model to be observed \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
        _currentObservedPlayerModel = model;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_ab4d87819bf1146fb69d84eddb1db0273}{
\index{AIManager@{AIManager}!setCurrentReferenceModel@{setCurrentReferenceModel}}
\index{setCurrentReferenceModel@{setCurrentReferenceModel}!AIManager@{AIManager}}
\subsubsection[{setCurrentReferenceModel}]{\setlength{\rightskip}{0pt plus 5cm}void AIManager::setCurrentReferenceModel (
\begin{DoxyParamCaption}
\item[{{\bf PlayerModel} $\ast$}]{model}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_ab4d87819bf1146fb69d84eddb1db0273}
Sets the current player model being referenced


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em model} & Pointer to player model from the vector \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
        _currentReferenceModel = model;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_a44f9b950499f178297a349c80e8f88ec}{
\index{AIManager@{AIManager}!setLuaState@{setLuaState}}
\index{setLuaState@{setLuaState}!AIManager@{AIManager}}
\subsubsection[{setLuaState}]{\setlength{\rightskip}{0pt plus 5cm}void AIManager::setLuaState (
\begin{DoxyParamCaption}
\item[{lua\_\-State $\ast$}]{L}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_a44f9b950499f178297a349c80e8f88ec}
Sets Lua state observed 
\begin{DoxyParams}{Parameters}
{\em L} & New Lua state \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
        _luaState = L;
}
\end{DoxyCode}
\hypertarget{class_a_i_manager_adf714d1c096f82d57c2eea294ee0408f}{
\index{AIManager@{AIManager}!update@{update}}
\index{update@{update}!AIManager@{AIManager}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}void AIManager::update (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_adf714d1c096f82d57c2eea294ee0408f}
Checks \hyperlink{class_player_model}{PlayerModel} updates and updates AIAgents accordingly 
\begin{DoxyCode}
{
        std::vector<PlayerModel*>::iterator itPM;
        float result(0.0f);

        for (itPM = _playerModels.begin(); itPM != _playerModels.end(); itPM++)
        {
                result = _currentObservedPlayerModel->compare( *itPM );

                // Checks if observed player model is lesser than current compara
      ble player model
                if (result < 0.0f)
                {
                        continue;
                }
                else
                {
                        // Checks if observed player model matches current compar
      able player model
                        if (result == 0.0f)
                        {
                                _currentReferenceModel = *itPM;
                                break;
                        }
                        else
                        {
                                // Checks if observed player model is superior to
       current comparable player model
                                if (result)
                                {
                                        // Compares referenced with current compa
      rable
                                        result = _currentReferenceModel->compare(
       *itPM );

                                        // Checks if reference model is inferior 
      to current comparable
                                        if (result < 0.0f)
                                        {
                                                // Reference model should be upda
      ted to current comparable
                                                _currentReferenceModel = *itPM;
                                        } 
                                }
                        }
                }
        }

        _currentObservedPlayerModel->setName( _currentReferenceModel->getName() )
      ;

        std::vector<AIAgent*>::iterator it;

        for (it = _aiAgents.begin(); it != _aiAgents.end(); it++)
        {
                (*it)->updateStats();
        }
}
\end{DoxyCode}


Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{d1/d60/class_a_i_manager_adf714d1c096f82d57c2eea294ee0408f_cgraph}
\end{center}
\end{figure}


\hypertarget{class_a_i_manager_a9a43433f398c527d30f240bba8856a36}{
\index{AIManager@{AIManager}!updateAgents@{updateAgents}}
\index{updateAgents@{updateAgents}!AIManager@{AIManager}}
\subsubsection[{updateAgents}]{\setlength{\rightskip}{0pt plus 5cm}void AIManager::updateAgents (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{d1/d60/class_a_i_manager_a9a43433f398c527d30f240bba8856a36}
Calls each AIAgent's updateStats to keep up with \hyperlink{class_player_model}{PlayerModel} changes 
\begin{DoxyCode}
{
        for (std::vector<AIAgent*>::iterator it = _aiAgents.begin(); it != _aiAge
      nts.end(); it++ )
        {
                (*it)->updateStats();
        }
}
\end{DoxyCode}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
\hyperlink{_a_i_manager_8h}{AIManager.h}\item 
\hyperlink{_a_i_manager_8cpp}{AIManager.cpp}\end{DoxyCompactItemize}
